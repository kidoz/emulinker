<?xml version="1.0"?>
<!DOCTYPE module PUBLIC
    "-//Checkstyle//DTD Checkstyle Configuration 1.3//EN"
    "https://checkstyle.org/dtds/configuration_1_3.dtd">

<!--
    Checkstyle configuration for Kaillux
    Focused on code quality checks (formatting handled by Spotless)
    Updated for Java 21+ best practices
-->
<module name="Checker">
    <property name="severity" value="warning"/>
    <property name="fileExtensions" value="java"/>

    <!-- Filters -->
    <module name="SuppressWarningsFilter"/>

    <module name="TreeWalker">
        <!-- Coding - Bug Prevention -->
        <module name="EmptyStatement"/>
        <module name="EqualsHashCode"/>
        <module name="FallThrough"/>
        <module name="MissingSwitchDefault"/>
        <module name="NoFinalizer"/>
        <module name="SimplifyBooleanExpression"/>
        <module name="SimplifyBooleanReturn"/>
        <module name="StringLiteralEquality"/>
        <module name="CovariantEquals"/>
        <module name="DefaultComesLast"/>
        <module name="InnerAssignment"/>
        <module name="ModifiedControlVariable"/>

        <!-- Exception Handling -->
        <module name="IllegalThrows">
            <property name="illegalClassNames" value="Error, RuntimeException, Throwable"/>
        </module>
        <module name="IllegalCatch">
            <property name="illegalClassNames" value="Error, Throwable"/>
            <property name="severity" value="info"/>
        </module>

        <!-- Unnecessary Code -->
        <module name="UnnecessarySemicolonAfterOuterTypeDeclaration"/>
        <module name="UnnecessarySemicolonAfterTypeMemberDeclaration"/>
        <module name="UnnecessarySemicolonInEnumeration"/>
        <module name="UnnecessarySemicolonInTryWithResources"/>
        <module name="AvoidDoubleBraceInitialization"/>
        <module name="AvoidNoArgumentSuperConstructorCall"/>

        <!-- Imports - Clean Dependencies -->
        <module name="AvoidStarImport">
            <property name="severity" value="info"/>
        </module>
        <module name="IllegalImport"/>
        <module name="RedundantImport"/>
        <module name="UnusedImports"/>
        <module name="UnusedLocalVariable"/>

        <!-- Class Design -->
        <module name="OneTopLevelClass"/>

        <!-- Java 21+ Naming Conventions -->
        <module name="PatternVariableName">
            <property name="format" value="^[a-z][a-zA-Z0-9]*$"/>
        </module>
        <module name="RecordComponentName">
            <property name="format" value="^[a-z][a-zA-Z0-9]*$"/>
        </module>
        <module name="RecordTypeParameterName">
            <property name="format" value="^[A-Z]$"/>
        </module>
        <module name="LambdaParameterName">
            <property name="format" value="^[a-z][a-zA-Z0-9]*$"/>
        </module>

        <!-- Modifiers -->
        <module name="FinalClass"/>
        <module name="FinalLocalVariable">
            <property name="severity" value="info"/>
        </module>
        <module name="FinalParameters">
            <property name="severity" value="info"/>
        </module>
        <module name="ModifierOrder"/>
        <module name="RedundantModifier"/>

        <!-- Miscellaneous -->
        <module name="ArrayTypeStyle"/>
        <module name="OuterTypeFilename"/>
        <module name="UpperEll"/>

        <!-- Suppress warnings support -->
        <module name="SuppressWarningsHolder"/>
    </module>
</module>
